<ion-view view-title="Konfigurasi" ng-init="init()" cache-view="false">
  <ion-content>
    <div class="list">

      <label class="item item-input item-stacked-label">
        <span class="input-label">SMS Server</span>
        <input type="text" placeholder="+14077925761" ng-model="config.SMSServer" disabled />
      </label>

      <label class="item item-input item-stacked-label">
        <span class="input-label">API Server</span>
        <input type="text" placeholder="https://rest.api.com" ng-model="config.APIServer" disabled />
      </label>

      <label class="item item-input item-stacked-label">
        <span class="input-label">No telepon</span>
        <input type="text" ng-model="registration.mobile" disabled />
      </label>

      <label class="item item-input item-stacked-label">
        <button class="button button-positive icon-left ion-person" ng-if="registration.username != null" ng-click="openViewModal()">{{registration.username}}</button>
        <button class="button button-positive icon-left ion-person" ng-if="!registration.username" ng-click="openModal()">Registrasi</button>
      </label>

    </div>

  </ion-content>
</ion-view>

<script id="register-modal.html" type="text/ng-template">
  <div class="modal">
    <ion-header-bar>
      <h1 class="title">Registrasi</h1>
    </ion-header-bar>
    <ion-content>
      <div class="list">
        <label class="item item-input">
          <span class="input-label">Nama lengkap</span>
          <input type="text" ng-model="registration.name" placeholder="Budi" required>
        </label>
        <label class="item item-input">
          <span class="input-label">No KTP</span>
          <input type="text" ng-model="registration.identityNo" placeholder="390810932943243" required>
        </label>
        <label class="item item-input">
          <span class="input-label">No HP</span>
          <input type="text" ng-model="registration.mobile" ng-readonly="registration.mobileAvailable" placeholder="+6281311525264" required>
        </label>
        <label class="item item-input">
          <span class="input-label">Email</span>
          <input type="email" ng-model="registration.username" placeholder="budi@gmail.com" required>
        </label>
        <label class="item item-input">
          <span class="input-label">Alamat</span>
          <input type="text" ng-model="registration.address" placeholder="Jl. Merdeka no 13 Jakarta" required>
        </label>
        <label class="item item-input">
          <span class="input-label">Kode pos</span>
          <input type="text" ng-model="registration.postalCode" placeholder="13330" required>
        </label>
        <label class="item item-input">
          <span class="input-label">Kata sandi</span>
          <input type="password" ng-model="registration.password" required>
        </label>
        <label class="item item-input">
          <span class="input-label">Konfirmasi kata sandi</span>
          <input type="password" ng-model="registration.passwordConfirm" required>
        </label>
      </div>
      <div class="row">
        <div class="col">
          <button class="button button-block button-positive icon-left ion-person" ng-disabled="!registration.name || !registration.identityNo || !registration.mobile || !registration.username || !registration.address || !registration.postalCode || !registration.password || !registration.passwordConfirm" ng-click="register()">Register</button>
        </div>
        <div class="col">
          <button class="button button-block button-assertive icon-left ion-close" ng-click="closeModal()">Cancel</button>
        </div>
      </div>
    </ion-content>
  </div>
</script>

<script id="register-view-modal.html" type="text/ng-template">
  <div class="modal">
    <ion-header-bar>
      <h1 class="title">Data Pengguna</h1>
    </ion-header-bar>
    <ion-content>
      <div class="list">
        <label class="item item-input">
          <span class="input-label">Nama lengkap</span>
          <span>{{registration.name}}</span>
        </label>
        <label class="item item-input">
          <span class="input-label">No KTP</span>
          <span>{{registration.identityNo}}</span>
        </label>
        <label class="item item-input">
          <span class="input-label">No HP</span>
          <span>{{registration.mobile}}</span>
        </label>
        <label class="item item-input">
          <span class="input-label">Email</span>
          <span>{{registration.username}}</span>
        </label>
        <label class="item item-input">
          <span class="input-label">Alamat</span>
          <div>{{registration.address}}</div>
        </label>
        <label class="item item-input">
          <span class="input-label">Kode pos</span>
          <span>{{registration.postalCode}}</span>
        </label>
      </div>
      <button class="button button-block button-positive icon-left ion-person" ng-click="closeViewModal()">Close</button>
    </ion-content>
  </div>
</script>
